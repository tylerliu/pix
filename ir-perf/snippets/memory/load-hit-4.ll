%seed = mul i64 %iv, 6364136223846793005 ; simple LCG
%idx = and i64 %seed, 255 ; mask to 256 entries
%ptr = getelementptr inbounds [256 x i64], [256 x i64]* @buf_hit, i64 0, i64 %idx
%val1 = load i64, i64* %ptr
%val2 = load i64, i64* %ptr
%val3 = load i64, i64* %ptr
%val4 = load i64, i64* %ptr
%sum1 = add i64 %sum, %val1
%sum2 = add i64 %sum1, %val2
%sum3 = add i64 %sum2, %val3
%next_sum = add i64 %sum3, %val4 